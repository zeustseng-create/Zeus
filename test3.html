<html>
  <head>
    <title>
      Zeus聊天室
    </title>
  </head>
  <body>
    <button onclick="show()" style="width:140px;height:140px;font-size: 30px;">
      查詢
    </button>
    <button onclick="sho()" style="width:140px;height:140px;font-size: 30px;">
      傳送
    </button>
    <br>
    <pre id="aal">
    </pre>
    <script>
      try{
      let ss;
      let a="https://de9a4be2-0cf2-4d3d-8518-05efa504bed5-00-heqz1qejfaam.pike.replit.dev/";
      let b=fetch(a)
  .then(res => {    // Response（不是資料）
    return res.json();     // 再回傳 Promise
  })
  .then(data => {
    ss=data;
// ✅ 真正資料
  });
      function show(){
        y="";
        if (!ss) {
  alert("資料尚未載入完成");
  return;
}
        for (let i = 0; i < ss["message"][0].length; i++) {{
          y+=ss["message"][1][i]
          y+=": "
          y+=ss["message"][0][i]
          y+="\n"
        }
        document.getElementById("aal").textContent = y;
      }
    function sho(){
        let p=prompt("輸入名稱");
        let h=prompt("輸入訊息");
        fetch(a+"1234/"+h+"/"+p+"/")
      }}catch{
        alert("伺服器掛了 聯絡zeus")}
    </script>
  </body>
</html>
